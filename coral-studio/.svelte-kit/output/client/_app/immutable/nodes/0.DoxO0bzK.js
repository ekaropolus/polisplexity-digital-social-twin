var ke=n=>{throw TypeError(n)};var pe=(n,e,o)=>e.has(n)||ke("Cannot "+o);var V=(n,e,o)=>(pe(n,e,"read from private field"),o?o.call(n):e.get(n)),xe=(n,e,o)=>e.has(n)?ke("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,o),Ie=(n,e,o,i)=>(pe(n,e,"write to private field"),i?i.call(n,o):e.set(n,o),o);import{b as se,a as c,p as a,f as Q,i as x,c as T,e as ft,r as De,g as dt,j as gt}from"../chunks/9XPJRg3E.js";import{B as mt,C as Ee,D as ht,d as Y,a as G,p as me,u as ce,z as Ke,t as he,e as X,b as d,g as t,c as vt,r as Be,h as b,f as y,v as oe,s as Te,j as W}from"../chunks/BrhzG-up.js";import{S as wt,f as ve,t as B,e as Le,T as bt,b as yt,g as _t,d as J,h as xt,j as It,m as ue,k as fe,l as Ae,n as Oe,o as Ne,p as de,q as je,r as Ct,u as Tt,v as Pe,w as St,x as Mt,y as kt,z as pt,A as Et,U as Bt,B as Lt,a as At}from"../chunks/B0nNA66l.js";import{l as Ot,A as Nt}from"../chunks/TIOWUMeu.js";var ne,D;class Pt{constructor(e){xe(this,ne);xe(this,D);Ie(this,ne,e),Ie(this,D,Symbol(e))}get key(){return V(this,D)}exists(){return mt(V(this,D))}get(){const e=Ee(V(this,D));if(e===void 0)throw new Error(`Context "${V(this,ne)}" not found`);return e}getOr(e){const o=Ee(V(this,D));return o===void 0?e:o}set(e){return ht(V(this,D),e)}}ne=new WeakMap,D=new WeakMap;const Dt=new Pt("<Toaster/>");var Kt=se('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" height="20" width="20" data-sonner-success-icon=""><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z" clip-rule="evenodd"></path></svg>');function jt(n){var e=Kt();c(n,e)}var Ht=se('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" height="20" width="20" data-sonner-error-icon=""><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path></svg>');function zt(n){var e=Ht();c(n,e)}var Ft=se('<svg viewBox="0 0 64 64" fill="currentColor" height="20" width="20" data-sonner-warning-icon="" xmlns="http://www.w3.org/2000/svg"><path d="M32.427,7.987c2.183,0.124 4,1.165 5.096,3.281l17.936,36.208c1.739,3.66 -0.954,8.585 -5.373,8.656l-36.119,0c-4.022,-0.064 -7.322,-4.631 -5.352,-8.696l18.271,-36.207c0.342,-0.65 0.498,-0.838 0.793,-1.179c1.186,-1.375 2.483,-2.111 4.748,-2.063Zm-0.295,3.997c-0.687,0.034 -1.316,0.419 -1.659,1.017c-6.312,11.979 -12.397,24.081 -18.301,36.267c-0.546,1.225 0.391,2.797 1.762,2.863c12.06,0.195 24.125,0.195 36.185,0c1.325,-0.064 2.321,-1.584 1.769,-2.85c-5.793,-12.184 -11.765,-24.286 -17.966,-36.267c-0.366,-0.651 -0.903,-1.042 -1.79,-1.03Z"></path><path d="M33.631,40.581l-3.348,0l-0.368,-16.449l4.1,0l-0.384,16.449Zm-3.828,5.03c0,-0.609 0.197,-1.113 0.592,-1.514c0.396,-0.4 0.935,-0.601 1.618,-0.601c0.684,0 1.223,0.201 1.618,0.601c0.395,0.401 0.593,0.905 0.593,1.514c0,0.587 -0.193,1.078 -0.577,1.473c-0.385,0.395 -0.929,0.593 -1.634,0.593c-0.705,0 -1.249,-0.198 -1.634,-0.593c-0.384,-0.395 -0.576,-0.886 -0.576,-1.473Z"></path></svg>');function Rt(n){var e=Ft();c(n,e)}var Vt=se('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" height="20" width="20" data-sonner-info-icon=""><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd"></path></svg>');function Wt(n){var e=Vt();c(n,e)}var Ut=se('<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-sonner-close-icon=""><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>');function Zt(n){var e=Ut();c(n,e)}const qt=3,He="24px",ze="16px",Gt=4e3,Jt=356,Qt=14,Ce="dark",ge="light";function Yt(n,e){const o={};return[n,e].forEach((i,I)=>{const h=I===1,v=h?"--mobile-offset":"--offset",C=h?ze:He;function S(u){["top","right","bottom","left"].forEach(M=>{o[`${v}-${M}`]=typeof u=="number"?`${u}px`:u})}typeof i=="number"||typeof i=="string"?S(i):typeof i=="object"?["top","right","bottom","left"].forEach(u=>{const M=i[u];M===void 0?o[`${v}-${u}`]=C:o[`${v}-${u}`]=typeof M=="number"?`${M}px`:M}):S(C)}),o}var Xt=Q("<ol></ol>"),$t=Q('<section aria-live="polite" aria-relevant="additions text" aria-atomic="false" class="svelte-xsmi9t"><!></section>');function eo(n,e){Y(e,!0);function o(s){return s!=="system"?s:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Ce:ge}function i(){if(typeof window>"u"||typeof document>"u")return"ltr";const s=document.documentElement.getAttribute("dir");return s==="auto"||!s?window.getComputedStyle(document.documentElement).direction:s}let I=a(e,"invert",3,!1),h=a(e,"position",3,"bottom-right"),v=a(e,"hotkey",19,()=>["altKey","KeyT"]),C=a(e,"expand",3,!1),S=a(e,"closeButton",3,!1),u=a(e,"offset",3,He),M=a(e,"mobileOffset",3,ze),U=a(e,"theme",3,"light"),we=a(e,"richColors",3,!1),be=a(e,"duration",3,Gt),re=a(e,"visibleToasts",3,qt),p=a(e,"toastOptions",19,()=>({})),ae=a(e,"dir",19,i),ye=a(e,"gap",3,Qt),E=a(e,"containerAriaLabel",3,"Notifications"),_e=a(e,"closeButtonAriaLabel",3,"Close toast"),Fe=De(e,["$$slots","$$events","$$legacy","invert","position","hotkey","expand","closeButton","offset","mobileOffset","theme","richColors","duration","visibleToasts","toastOptions","dir","gap","loadingIcon","successIcon","errorIcon","warningIcon","closeIcon","infoIcon","containerAriaLabel","class","closeButtonAriaLabel"]);const Re=b(()=>Array.from(new Set([h(),...B.toasts.filter(s=>s.position).map(s=>s.position)].filter(Boolean))));let L=G(!1),ie=G(!1),$=G(me(o(U()))),Z=G(void 0),z=G(null),ee=G(!1);const Ve=b(()=>v().join("+").replace(/Key/g,"").replace(/Digit/g,""));ce(()=>{B.toasts.length<=1&&d(L,!1)}),ce(()=>{const s=B.toasts.filter(w=>w.dismiss&&!w.delete);if(s.length>0){const w=B.toasts.map(K=>s.find(j=>j.id===K.id)?{...K,delete:!0}:K);B.toasts=w}}),ce(()=>()=>{t(Z)&&t(z)&&(t(z).focus({preventScroll:!0}),d(z,null),d(ee,!1))}),Ke(()=>{B.reset();const s=w=>{var F,j;v().every(le=>w[le]||w.code===le)&&(d(L,!0),(F=t(Z))==null||F.focus()),w.code==="Escape"&&(document.activeElement===t(Z)||(j=t(Z))!=null&&j.contains(document.activeElement))&&d(L,!1)};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}}),ce(()=>{if(U()!=="system"&&d($,U()),typeof window<"u"){U()==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?d($,Ce):d($,ge));const s=window.matchMedia("(prefers-color-scheme: dark)"),w=({matches:K})=>{d($,K?Ce:ge,!0)};"addEventListener"in s?s.addEventListener("change",w):s.addListener(w)}});const We=s=>{t(ee)&&!s.currentTarget.contains(s.relatedTarget)&&(d(ee,!1),t(z)&&(t(z).focus({preventScroll:!0}),d(z,null)))},Ue=s=>{s.target instanceof HTMLElement&&s.target.dataset.dismissable==="false"||t(ee)||(d(ee,!0),d(z,s.relatedTarget,!0))},Ze=s=>{s.target instanceof HTMLElement&&s.target.dataset.dismissable==="false"||d(ie,!0)},qe=()=>{d(L,!0)},Ge=()=>{t(ie)||d(L,!1)},Je=()=>{d(L,!0)},Qe=()=>{d(L,!1)},Ye=()=>{d(ie,!1)};Dt.set(new wt);var te=$t();ve(te,"tabindex",-1);var Xe=vt(te);{var $e=s=>{var w=T(),K=y(w);Le(K,18,()=>t(Re),F=>F,(F,j,le,co)=>{var R=Xt();const Se=b(()=>{const[k,q]=j.split("-");return{y:k,x:q}}),et=b(()=>t(L)&&B.toasts.length>1&&!C()),H=b(()=>Yt(u(),M()));let Me;Le(R,23,()=>B.toasts.filter(k=>!k.position&&t(le)===0||k.position===j),k=>k.id,(k,q,tt,uo)=>{const ot=b(()=>{var f;return((f=p())==null?void 0:f.duration)??be()}),nt=b(()=>{var f;return((f=p())==null?void 0:f.class)??""}),st=b(()=>{var f;return((f=p())==null?void 0:f.descriptionClass)||""}),rt=b(()=>{var f;return((f=p())==null?void 0:f.style)??""}),at=b(()=>p().classes||{}),it=b(()=>p().unstyled??!1),lt=b(()=>{var f;return((f=p())==null?void 0:f.cancelButtonStyle)??""}),ct=b(()=>{var f;return((f=p())==null?void 0:f.actionButtonStyle)??""}),ut=b(()=>{var f;return((f=p())==null?void 0:f.closeButtonAriaLabel)??_e()});bt(k,{get index(){return t(tt)},get toast(){return t(q)},get defaultRichColors(){return we()},get duration(){return t(ot)},get class(){return t(nt)},get descriptionClass(){return t(st)},get invert(){return I()},get visibleToasts(){return re()},get closeButton(){return S()},get interacting(){return t(ie)},get position(){return j},get style(){return t(rt)},get classes(){return t(at)},get unstyled(){return t(it)},get cancelButtonStyle(){return t(lt)},get actionButtonStyle(){return t(ct)},get closeButtonAriaLabel(){return t(ut)},get expandByDefault(){return C()},get expanded(){return t(L)},get loadingIcon(){return e.loadingIcon},successIcon:A=>{var _=T(),O=y(_);{var N=r=>{var l=T(),g=y(l);J(g,()=>e.successIcon??oe),c(r,l)},P=(r,l)=>{{var g=m=>{jt(m)};x(r,m=>{e.successIcon!==null&&m(g)},l)}};x(O,r=>{e.successIcon?r(N):r(P,!1)})}c(A,_)},errorIcon:A=>{var _=T(),O=y(_);{var N=r=>{var l=T(),g=y(l);J(g,()=>e.errorIcon??oe),c(r,l)},P=(r,l)=>{{var g=m=>{zt(m)};x(r,m=>{e.errorIcon!==null&&m(g)},l)}};x(O,r=>{e.errorIcon?r(N):r(P,!1)})}c(A,_)},warningIcon:A=>{var _=T(),O=y(_);{var N=r=>{var l=T(),g=y(l);J(g,()=>e.warningIcon??oe),c(r,l)},P=(r,l)=>{{var g=m=>{Rt(m)};x(r,m=>{e.warningIcon!==null&&m(g)},l)}};x(O,r=>{e.warningIcon?r(N):r(P,!1)})}c(A,_)},infoIcon:A=>{var _=T(),O=y(_);{var N=r=>{var l=T(),g=y(l);J(g,()=>e.infoIcon??oe),c(r,l)},P=(r,l)=>{{var g=m=>{Wt(m)};x(r,m=>{e.infoIcon!==null&&m(g)},l)}};x(O,r=>{e.infoIcon?r(N):r(P,!1)})}c(A,_)},closeIcon:A=>{var _=T(),O=y(_);{var N=r=>{var l=T(),g=y(l);J(g,()=>e.closeIcon??oe),c(r,l)},P=(r,l)=>{{var g=m=>{Zt(m)};x(r,m=>{e.closeIcon!==null&&m(g)},l)}};x(O,r=>{e.closeIcon?r(N):r(P,!1)})}c(A,_)},$$slots:{successIcon:!0,errorIcon:!0,warningIcon:!0,infoIcon:!0,closeIcon:!0}})}),Be(R),ft(R,k=>d(Z,k),()=>t(Z)),he(k=>{var q;Me=yt(R,Me,{tabindex:-1,dir:k,class:e.class,"data-sonner-toaster":!0,"data-sonner-theme":t($),"data-y-position":t(Se).y,"data-lifted":t(et),"data-x-position":t(Se).x,style:e.style,onblur:We,onfocus:Ue,onmouseenter:qe,onmousemove:Je,onmouseleave:Ge,ondragend:Qe,onpointerdown:Ze,onpointerup:Ye,...Fe,[_t]:{"--front-toast-height":`${(q=B.heights[0])==null?void 0:q.height}px`,"--width":`${Jt}px`,"--gap":`${ye()}px`,"--offset-top":t(H)["--offset-top"],"--offset-right":t(H)["--offset-right"],"--offset-bottom":t(H)["--offset-bottom"],"--offset-left":t(H)["--offset-left"],"--mobile-offset-top":t(H)["--mobile-offset-top"],"--mobile-offset-right":t(H)["--mobile-offset-right"],"--mobile-offset-bottom":t(H)["--mobile-offset-bottom"],"--mobile-offset-left":t(H)["--mobile-offset-left"]}},"svelte-xsmi9t"),R.dir=R.dir},[()=>ae()==="auto"?i():ae()]),c(F,R)}),c(s,w)};x(Xe,s=>{B.toasts.length>0&&s($e)})}Be(te),he(()=>ve(te,"aria-label",`${E()??""} ${t(Ve)??""}`)),c(n,te),X()}var to=Q('<meta name="theme-color"/>');function oo(n,e){Y(e,!0);var o=T(),i=y(o);{var I=h=>{var v=to();he(()=>ve(v,"content",e.themeColors.dark)),c(h,v)};x(i,h=>{e.themeColors&&h(I)})}c(n,o),X()}var no=Q('<meta name="theme-color"/>'),so=Q("<!> <!>",1);function ro(n,e){Y(e,!0);let o=a(e,"trueNonce",3,"");dt(i=>{var I=so(),h=y(I);{var v=S=>{var u=no();he(()=>ve(u,"content",e.themeColors.dark)),c(S,u)};x(h,S=>{e.themeColors&&S(v)})}var C=Te(h,2);xt(C,()=>`<script${o()?` nonce=${o()}`:""}>(`+It.toString()+")("+JSON.stringify(e.initConfig)+");<\/script>"),c(i,I)}),X()}function ao(n,e){Y(e,!0);let o=a(e,"track",3,!0),i=a(e,"defaultMode",3,"system"),I=a(e,"disableTransitions",3,!0),h=a(e,"darkClassNames",19,()=>["dark"]),v=a(e,"lightClassNames",19,()=>[]),C=a(e,"defaultTheme",3,""),S=a(e,"nonce",3,""),u=a(e,"themeStorageKey",3,"mode-watcher-theme"),M=a(e,"modeStorageKey",3,"mode-watcher-mode"),U=a(e,"disableHeadScriptInjection",3,!1);ue.current=M(),fe.current=u(),Ae.current=h(),Oe.current=v(),Ne.current=I(),de.current=e.themeColors,W(()=>{Ne.current=I()}),W(()=>{de.current=e.themeColors}),W(()=>{Ae.current=h()}),W(()=>{Oe.current=v()}),W(()=>{ue.current=M()}),W(()=>{fe.current=u()}),W(()=>{je.current,ue.current,fe.current,Ct.current}),Ke(()=>{Pe.tracking(o()),Pe.query();const E=localStorage.getItem(ue.current);St(Mt(E)?E:i());const _e=localStorage.getItem(fe.current);kt(_e||C())});const we=Tt({defaultMode:i(),themeColors:e.themeColors,darkClassNames:h(),lightClassNames:v(),defaultTheme:C(),modeStorageKey:M(),themeStorageKey:u()}),be=b(()=>typeof window>"u"?S():"");var re=T(),p=y(re);{var ae=E=>{oo(E,{get themeColors(){return de.current}})},ye=E=>{ro(E,{get trueNonce(){return t(be)},initConfig:we,get themeColors(){return de.current}})};x(p,E=>{U()?E(ae):E(ye,!1)})}c(n,re),X()}function io(n,e){Y(e,!0);let o=De(e,["$$slots","$$events","$$legacy"]);eo(n,gt({get theme(){return je.current},class:"toaster group",style:"--normal-bg: var(--popover); --normal-text: var(--popover-foreground); --normal-border: var(--border);"},()=>o)),X()}var lo=Q("<!> <!> <!>",1);function xo(n,e){Y(e,!0);let o=me({connection:null,session:null,sessions:null,registry:null});pt.set(o);let i=me({session:null,logs:{}});Ot.set(i),Et([()=>o.session,()=>o.connection],()=>{if(!(!o.session||!o.connection)){i.session!==null&&i.session!==o.session.session&&(i.logs={},console.log("invalidating session logs")),i.session=o.session.session;for(const u of Object.keys(o.session.agents))u in i.logs||(i.logs[u]=new Nt({...o.connection,session:o.session.session},u),console.log(`opening agent logs for '${u}'`))}});let I=me({socket:new Lt,userInput:new Bt});At.set(I);var h=lo(),v=y(h);ao(v,{});var C=Te(v,2);io(C,{});var S=Te(C,2);J(S,()=>e.children),c(n,h),X()}export{xo as component};
