var Yr=Object.defineProperty;var ms=n=>{throw TypeError(n)};var jr=(n,t,e)=>t in n?Yr(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var tt=(n,t,e)=>jr(n,typeof t!="symbol"?t+"":t,e),Bn=(n,t,e)=>t.has(n)||ms("Cannot "+e);var l=(n,t,e)=>(Bn(n,t,"read from private field"),e?e.call(n):t.get(n)),b=(n,t,e)=>t.has(n)?ms("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),G=(n,t,e,s)=>(Bn(n,t,"write to private field"),s?s.call(n,e):t.set(n,e),e),yt=(n,t,e)=>(Bn(n,t,"access private method"),e);import{S as nn,F as rt,G as we,T as Xr,_ as Hn,U as $n,g as c,ak as Kr,a8 as Jr,a9 as Gr,aa as ys,R as Ae,W as Ut,a1 as Qr,ab as Ys,a6 as wn,ac as Zr,at as js,a4 as Xs,N as $r,y as ti,au as zn,av as Nn,E as ei,M as Wn,aw as ts,ax as ni,ay as es,az as _s,aA as si,H as ri,aB as ii,aC as ns,aD as oi,Q as Ks,t as ht,aE as ai,a2 as ci,a0 as ui,a7 as li,v as oe,ae as fi,aF as hi,aG as di,aH as pi,aI as gi,aJ as mi,aK as yi,b as C,aL as _i,af as vi,m as Zt,A as bi,d as Js,c as Tt,r as _t,e as Gs,a as j,p as Wt,h as V,u as Ht,z as wi,s as se,f as nt,aM as Ei,j as En,aN as ss,B as Ai,C as vs,D as Ti}from"./BrhzG-up.js";import{l as bs,n as ki,q as Si,v as Ri,w as Qs,x as Ci,y as Oi,z as xi,A as Bi,f as xt,a as M,o as wt,p as me,i as K,e as Ni,B as Ii,c as st,d as Xt,j as In,t as ws,s as Ze}from"./9XPJRg3E.js";function pc(n,t){return t}function Li(n,t,e,s){for(var r=[],i=t.length,o=0;o<i;o++)si(t[o].e,r,!0);var a=i>0&&r.length===0&&e!==null;if(a){var u=e.parentNode;ri(u),u.append(e),s.clear(),Vt(n,t[0].prev,t[i-1].next)}ii(r,()=>{for(var f=0;f<i;f++){var h=t[f];a||(s.delete(h.k),Vt(n,h.prev,h.next)),ns(h.e,!a)}})}function Pi(n,t,e,s,r,i=null){var o=n,a={flags:t,items:new Map,first:null},u=(t&js)!==0;if(u){var f=n;o=rt?nn(we(f)):f.appendChild(Xr())}rt&&Hn();var h=null,g=!1,p=Kr(()=>{var L=e();return $r(L)?L:L==null?[]:Xs(L)});$n(()=>{var L=c(p),_=L.length;if(g&&_===0)return;g=_===0;let T=!1;if(rt){var q=Jr(o)===Gr;q!==(_===0)&&(o=ys(),nn(o),Ae(!1),T=!0)}if(rt){for(var A=null,N,m=0;m<_;m++){if(Ut.nodeType===8&&Ut.data===Qr){o=Ut,T=!0,Ae(!1);break}var d=L[m],v=s(d,m);N=Zs(Ut,a,A,null,d,v,m,r,t,e),a.items.set(v,N),A=N}_>0&&nn(ys())}rt||Di(L,a,o,r,t,s,e),i!==null&&(_===0?h?Ys(h):h=wn(()=>i(o)):h!==null&&Zr(h,()=>{h=null})),T&&Ae(!0),c(p)}),rt&&(o=Ut)}function Di(n,t,e,s,r,i,o){var w,it,$t,Xe;var a=(r&ni)!==0,u=(r&(es|ts))!==0,f=n.length,h=t.items,g=t.first,p=g,L,_=null,T,q=[],A=[],N,m,d,v;if(a)for(v=0;v<f;v+=1)N=n[v],m=i(N,v),d=h.get(m),d!==void 0&&((w=d.a)==null||w.measure(),(T??(T=new Set)).add(d));for(v=0;v<f;v+=1){if(N=n[v],m=i(N,v),d=h.get(m),d===void 0){var I=p?p.e.nodes_start:e;_=Zs(I,t,_,_===null?t.first:_.next,N,m,v,s,r,o),h.set(m,_),q=[],A=[],p=_.next;continue}if(u&&Mi(d,N,v,r),(d.e.f&Nn)!==0&&(Ys(d.e),a&&((it=d.a)==null||it.unfix(),(T??(T=new Set)).delete(d))),d!==p){if(L!==void 0&&L.has(d)){if(q.length<A.length){var B=A[0],at;_=B.prev;var Bt=q[0],Nt=q[q.length-1];for(at=0;at<q.length;at+=1)Es(q[at],B,e);for(at=0;at<A.length;at+=1)L.delete(A[at]);Vt(t,Bt.prev,Nt.next),Vt(t,_,Bt),Vt(t,Nt,B),p=B,_=Nt,v-=1,q=[],A=[]}else L.delete(d),Es(d,p,e),Vt(t,d.prev,d.next),Vt(t,d,_===null?t.first:_.next),Vt(t,_,d),_=d;continue}for(q=[],A=[];p!==null&&p.k!==m;)(p.e.f&Nn)===0&&(L??(L=new Set)).add(p),A.push(p),p=p.next;if(p===null)continue;d=p}q.push(d),_=d,p=d.next}if(p!==null||L!==void 0){for(var It=L===void 0?[]:Xs(L);p!==null;)(p.e.f&Nn)===0&&It.push(p),p=p.next;var Yt=It.length;if(Yt>0){var S=(r&js)!==0&&f===0?e:null;if(a){for(v=0;v<Yt;v+=1)($t=It[v].a)==null||$t.measure();for(v=0;v<Yt;v+=1)(Xe=It[v].a)==null||Xe.fix()}Li(t,It,S,h)}}a&&ei(()=>{var te;if(T!==void 0)for(d of T)(te=d.a)==null||te.apply()}),Wn.first=t.first&&t.first.e,Wn.last=_&&_.e}function Mi(n,t,e,s){(s&es)!==0&&_s(n.v,t),(s&ts)!==0?_s(n.i,e):n.i=e}function Zs(n,t,e,s,r,i,o,a,u,f){var h=(u&es)!==0,g=(u&oi)===0,p=h?g?ti(r):zn(r):r,L=(u&ts)===0?o:zn(o),_={i:L,v:p,k:i,a:null,e:null,prev:e,next:s};try{return _.e=wn(()=>a(n,p,L,f),rt),_.e.prev=e&&e.e,_.e.next=s&&s.e,e===null?t.first=_:(e.next=_,e.e.next=_.e),s!==null&&(s.prev=_,s.e.prev=_.e),_}finally{}}function Es(n,t,e){for(var s=n.next?n.next.e.nodes_start:e,r=t?t.e.nodes_start:e,i=n.e.nodes_start;i!==s;){var o=Ks(i);r.before(i),i=o}}function Vt(n,t,e){t===null?n.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}function gc(n,t,e=!1,s=!1,r=!1){var i=n,o="";ht(()=>{var a=Wn;if(o===(o=t()??"")){rt&&Hn();return}if(a.nodes_start!==null&&(ai(a.nodes_start,a.nodes_end),a.nodes_start=a.nodes_end=null),o!==""){if(rt){Ut.data;for(var u=Hn(),f=u;u!==null&&(u.nodeType!==8||u.data!=="");)f=u,u=Ks(u);if(u===null)throw ci(),ui;bs(Ut,f),i=nn(u);return}var h=o+"";e?h=`<svg>${h}</svg>`:s&&(h=`<math>${h}</math>`);var g=ki(h);if((e||s)&&(g=we(g)),bs(we(g),g.lastChild),e||s)for(;we(g);)i.before(we(g));else i.before(g)}})}function re(n,t,...e){var s=n,r=oe,i;$n(()=>{r!==(r=t())&&(i&&(ns(i),i=null),i=wn(()=>r(s,...e)))},li),rt&&(s=Ut)}function qi(n,t){var e=void 0,s;$n(()=>{e!==(e=t())&&(s&&(ns(s),s=null),e&&(s=wn(()=>{fi(()=>e(n))})))})}function $s(n){var t,e,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(t=0;t<r;t++)n[t]&&(e=$s(n[t]))&&(s&&(s+=" "),s+=e)}else for(e in n)n[e]&&(s&&(s+=" "),s+=e);return s}function Fi(){for(var n,t,e=0,s="",r=arguments.length;e<r;e++)(n=arguments[e])&&(t=$s(n))&&(s&&(s+=" "),s+=t);return s}function kt(n){return typeof n=="object"?Fi(n):n??""}const As=[...` 	
\r\fÂ \v\uFEFF`];function Vi(n,t,e){var s=n==null?"":""+n;if(t&&(s=s?s+" "+t:t),e){for(var r in e)if(e[r])s=s?s+" "+r:r;else if(s.length)for(var i=r.length,o=0;(o=s.indexOf(r,o))>=0;){var a=o+i;(o===0||As.includes(s[o-1]))&&(a===s.length||As.includes(s[a]))?s=(o===0?"":s.substring(0,o))+s.substring(a+1):o=a}}return s===""?null:s}function Ts(n,t=!1){var e=t?" !important;":";",s="";for(var r in n){var i=n[r];i!=null&&i!==""&&(s+=" "+r+": "+i+e)}return s}function Ln(n){return n[0]!=="-"||n[1]!=="-"?n.toLowerCase():n}function Ui(n,t){if(t){var e="",s,r;if(Array.isArray(t)?(s=t[0],r=t[1]):s=t,n){n=String(n).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,o=0,a=!1,u=[];s&&u.push(...Object.keys(s).map(Ln)),r&&u.push(...Object.keys(r).map(Ln));var f=0,h=-1;const T=n.length;for(var g=0;g<T;g++){var p=n[g];if(a?p==="/"&&n[g-1]==="*"&&(a=!1):i?i===p&&(i=!1):p==="/"&&n[g+1]==="*"?a=!0:p==='"'||p==="'"?i=p:p==="("?o++:p===")"&&o--,!a&&i===!1&&o===0){if(p===":"&&h===-1)h=g;else if(p===";"||g===T-1){if(h!==-1){var L=Ln(n.substring(f,h).trim());if(!u.includes(L)){p!==";"&&g++;var _=n.substring(f,g).trim();e+=" "+_+";"}}f=g+1,h=-1}}}}return s&&(e+=Ts(s)),r&&(e+=Ts(r,!0)),e=e.trim(),e===""?null:e}return n==null?null:String(n)}function St(n,t,e,s,r,i){var o=n.__className;if(rt||o!==e||o===void 0){var a=Vi(e,s,i);(!rt||a!==n.getAttribute("class"))&&(a==null?n.removeAttribute("class"):t?n.className=a:n.setAttribute("class",a)),n.__className=e}else if(i&&r!==i)for(var u in i){var f=!!i[u];(r==null||f!==!!r[u])&&n.classList.toggle(u,f)}return i}function Pn(n,t={},e,s){for(var r in e){var i=e[r];t[r]!==i&&(e[r]==null?n.style.removeProperty(r):n.style.setProperty(r,i,s))}}function sn(n,t,e,s){var r=n.__style;if(rt||r!==t){var i=Ui(t,s);(!rt||i!==n.getAttribute("style"))&&(i==null?n.removeAttribute("style"):n.style.cssText=i),n.__style=t}else s&&(Array.isArray(s)?(Pn(n,e==null?void 0:e[0],s[0]),Pn(n,e==null?void 0:e[1],s[1],"important")):Pn(n,e,s));return s}const ye=Symbol("class"),_e=Symbol("style"),tr=Symbol("is custom element"),er=Symbol("is html");function mc(n){if(rt){var t=!1,e=()=>{if(!t){if(t=!0,n.hasAttribute("value")){var s=n.value;H(n,"value",null),n.value=s}if(n.hasAttribute("checked")){var r=n.checked;H(n,"checked",null),n.checked=r}}};n.__on_r=e,yi(e),Bi()}}function Hi(n,t){t?n.hasAttribute("selected")||n.setAttribute("selected",""):n.removeAttribute("selected")}function H(n,t,e,s){var r=nr(n);rt&&(r[t]=n.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&n.nodeName==="LINK")||r[t]!==(r[t]=e)&&(t==="loading"&&(n[gi]=e),e==null?n.removeAttribute(t):typeof e!="string"&&sr(n).includes(t)?n[t]=e:n.setAttribute(t,e))}function yc(n,t,e,s,r=!1){var i=nr(n),o=i[tr],a=!i[er];let u=rt&&o;u&&Ae(!1);var f=t||{},h=n.tagName==="OPTION";for(var g in t)g in e||(e[g]=null);e.class?e.class=kt(e.class):(s||e[ye])&&(e.class=null),e[_e]&&(e.style??(e.style=null));var p=sr(n);for(const m in e){let d=e[m];if(h&&m==="value"&&d==null){n.value=n.__value="",f[m]=d;continue}if(m==="class"){var L=n.namespaceURI==="http://www.w3.org/1999/xhtml";St(n,L,d,s,t==null?void 0:t[ye],e[ye]),f[m]=d,f[ye]=e[ye];continue}if(m==="style"){sn(n,d,t==null?void 0:t[_e],e[_e]),f[m]=d,f[_e]=e[_e];continue}var _=f[m];if(d!==_){f[m]=d;var T=m[0]+m[1];if(T!=="$$")if(T==="on"){const v={},I="$$"+m;let B=m.slice(2);var q=xi(B);if(Si(B)&&(B=B.slice(0,-7),v.capture=!0),!q&&_){if(d!=null)continue;n.removeEventListener(B,f[I],v),f[I]=null}if(d!=null)if(q)n[`__${B}`]=d,Qs([B]);else{let at=function(Bt){f[m].call(this,Bt)};f[I]=Ri(B,n,at,v)}else q&&(n[`__${B}`]=void 0)}else if(m==="style")H(n,m,d);else if(m==="autofocus")Ci(n,!!d);else if(!o&&(m==="__value"||m==="value"&&d!=null))n.value=n.__value=d;else if(m==="selected"&&h)Hi(n,d);else{var A=m;a||(A=Oi(A));var N=A==="defaultValue"||A==="defaultChecked";if(d==null&&!o&&!N)if(i[m]=null,A==="value"||A==="checked"){let v=n;const I=t===void 0;if(A==="value"){let B=v.defaultValue;v.removeAttribute(A),v.defaultValue=B,v.value=v.__value=I?B:null}else{let B=v.defaultChecked;v.removeAttribute(A),v.defaultChecked=B,v.checked=I?B:!1}}else n.removeAttribute(m);else N||p.includes(A)&&(o||typeof d!="string")?n[A]=d:typeof d!="function"&&H(n,A,d)}}}u&&Ae(!0);for(let m of Object.getOwnPropertySymbols(e))m.description===pi&&qi(n,()=>e[m]);return f}function nr(n){return n.__attributes??(n.__attributes={[tr]:n.nodeName.includes("-"),[er]:n.namespaceURI===hi})}var ks=new Map;function sr(n){var t=ks.get(n.nodeName);if(t)return t;ks.set(n.nodeName,t=[]);for(var e,s=n,r=Element.prototype;r!==s;){e=mi(s);for(var i in e)e[i].set&&t.push(i);s=di(s)}return t}function zi(n){C(n,n.v+1)}function de(n){let t=0,e=zn(0),s;return()=>{_i()&&(c(e),vi(()=>(t===0&&(s=Zt(()=>n(()=>zi(e)))),t+=1,()=>{bi().then(()=>{t-=1,t===0&&(s==null||s(),s=void 0)})})))}}const Wi=Array(12).fill(0);var Yi=xt('<div class="sonner-loading-bar"></div>'),ji=xt('<div><div class="sonner-spinner"></div></div>');function Xi(n,t){Js(t,!0);var e=ji(),s=Tt(e);Pi(s,23,()=>Wi,(r,i)=>`spinner-bar-${i}`,(r,i)=>{var o=Yi();M(r,o)}),_t(s),_t(e),ht(r=>{St(e,1,r),H(e,"data-visible",t.visible)},[()=>kt(["sonner-loading-wrapper",t.class].filter(Boolean).join(" "))]),M(n,e),Gs()}function Dt(...n){return n.filter(Boolean).join(" ")}const Ki=typeof document<"u",Ji=typeof window<"u"?window:void 0;function Gi(n){let t=n.activeElement;for(;t!=null&&t.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}var Se,Re;class Qi{constructor(t,e){b(this,Se);b(this,Re);G(this,Se,t),G(this,Re,de(e))}get current(){return l(this,Re).call(this),l(this,Se).call(this)}}Se=new WeakMap,Re=new WeakMap;const Zi=/\(.+\)/,$i=new Set(["all","print","screen","and","or","not","only"]);class to extends Qi{constructor(t,e){let s=Zi.test(t)||t.split(/[\s,]+/).some(i=>$i.has(i.trim()))?t:`(${t})`;const r=window.matchMedia(s);super(()=>r.matches,i=>wt(r,"change",i))}}var ae,Ce,Hs;let eo=(Hs=class{constructor(t={}){b(this,ae);b(this,Ce);const{window:e=Ji,document:s=e==null?void 0:e.document}=t;e!==void 0&&(G(this,ae,s),G(this,Ce,de(r=>{const i=wt(e,"focusin",r),o=wt(e,"focusout",r);return()=>{i(),o()}})))}get current(){var t;return(t=l(this,Ce))==null||t.call(this),l(this,ae)?Gi(l(this,ae)):null}},ae=new WeakMap,Ce=new WeakMap,Hs);new eo;let Ss=0;var Oe,xe,Be;class no{constructor(){b(this,Oe,j(Wt([])));b(this,xe,j(Wt([])));b(this,Be,t=>{const e=this.toasts.findIndex(s=>s.id===t);return e===-1?null:e});tt(this,"addToast",t=>{Ki&&this.toasts.unshift(t)});tt(this,"updateToast",({id:t,data:e,type:s,message:r})=>{const i=this.toasts.findIndex(a=>a.id===t),o=this.toasts[i];this.toasts[i]={...o,...e,id:t,title:r,type:s,updated:!0}});tt(this,"create",t=>{var a;const{message:e,...s}=t,r=typeof(t==null?void 0:t.id)=="number"||t.id&&((a=t.id)==null?void 0:a.length)>0?t.id:Ss++,i=t.dismissable===void 0?!0:t.dismissable,o=t.type===void 0?"default":t.type;return Zt(()=>{this.toasts.find(f=>f.id===r)?this.updateToast({id:r,data:t,type:o,message:e,dismissable:i}):this.addToast({...s,id:r,title:e,dismissable:i,type:o})}),r});tt(this,"dismiss",t=>(Zt(()=>{if(t===void 0){this.toasts=this.toasts.map(s=>({...s,dismiss:!0}));return}const e=this.toasts.findIndex(s=>s.id===t);this.toasts[e]&&(this.toasts[e]={...this.toasts[e],dismiss:!0})}),t));tt(this,"remove",t=>{if(t===void 0){this.toasts=[];return}const e=l(this,Be).call(this,t);if(e!==null)return this.toasts.splice(e,1),t});tt(this,"message",(t,e)=>this.create({...e,type:"default",message:t}));tt(this,"error",(t,e)=>this.create({...e,type:"error",message:t}));tt(this,"success",(t,e)=>this.create({...e,type:"success",message:t}));tt(this,"info",(t,e)=>this.create({...e,type:"info",message:t}));tt(this,"warning",(t,e)=>this.create({...e,type:"warning",message:t}));tt(this,"loading",(t,e)=>this.create({...e,type:"loading",message:t}));tt(this,"promise",(t,e)=>{if(!e)return;let s;e.loading!==void 0&&(s=this.create({...e,promise:t,type:"loading",message:typeof e.loading=="string"?e.loading:e.loading()}));const r=t instanceof Promise?t:t();let i=s!==void 0;return r.then(o=>{if(typeof o=="object"&&o&&"ok"in o&&typeof o.ok=="boolean"&&!o.ok){i=!1;const a=so(o);this.create({id:s,type:"error",message:a})}else if(e.success!==void 0){i=!1;const a=typeof e.success=="function"?e.success(o):e.success;this.create({id:s,type:"success",message:a})}}).catch(o=>{if(e.error!==void 0){i=!1;const a=typeof e.error=="function"?e.error(o):e.error;this.create({id:s,type:"error",message:a})}}).finally(()=>{var o;i&&(this.dismiss(s),s=void 0),(o=e.finally)==null||o.call(e)}),s});tt(this,"custom",(t,e)=>{const s=(e==null?void 0:e.id)||Ss++;return this.create({component:t,id:s,...e}),s});tt(this,"removeHeight",t=>{this.heights=this.heights.filter(e=>e.toastId!==t)});tt(this,"setHeight",t=>{const e=l(this,Be).call(this,t.toastId);if(e===null){this.heights.push(t);return}this.heights[e]=t});tt(this,"reset",()=>{this.toasts=[],this.heights=[]})}get toasts(){return c(l(this,Oe))}set toasts(t){C(l(this,Oe),t,!0)}get heights(){return c(l(this,xe))}set heights(t){C(l(this,xe),t,!0)}}Oe=new WeakMap,xe=new WeakMap,Be=new WeakMap;function so(n){return n&&typeof n=="object"&&"status"in n?`HTTP error! Status: ${n.status}`:`Error! ${n}`}const Z=new no;function ro(n,t){return Z.create({message:n,...t})}var dn;class vc{constructor(){b(this,dn,V(()=>Z.toasts.filter(t=>!t.dismiss)))}get toasts(){return c(l(this,dn))}}dn=new WeakMap;const io=ro,bc=Object.assign(io,{success:Z.success,info:Z.info,warning:Z.warning,error:Z.error,custom:Z.custom,message:Z.message,promise:Z.promise,dismiss:Z.dismiss,loading:Z.loading,getActiveToasts:()=>Z.toasts.filter(n=>!n.dismiss)});function fn(n){return n.label!==void 0}function oo(){let n=j(Wt(typeof document<"u"?document.hidden:!1));return Ht(()=>wt(document,"visibilitychange",()=>{C(n,document.hidden,!0)})),{get current(){return c(n)}}}const Rs=4e3,ao=14,co=45,uo=200,lo=.05,fo={toast:"",title:"",description:"",loader:"",closeButton:"",cancelButton:"",actionButton:"",action:"",warning:"",error:"",success:"",default:"",info:"",loading:""};function ho(n){const[t,e]=n.split("-"),s=[];return t&&s.push(t),e&&s.push(e),s}function Cs(n){return 1/(1.5+Math.abs(n)/20)}var po=xt("<div><!></div>"),go=(n,t,e,s,r)=>{var i,o;c(t)||!c(e)||(s(),(o=(i=r.toast).onDismiss)==null||o.call(i,r.toast))},mo=xt('<button data-close-button=""><!></button>'),yo=xt('<div data-icon=""><!> <!></div>'),_o=xt('<div data-description=""><!></div>'),vo=(n,t,e,s)=>{var r,i;fn(t.toast.cancel)&&c(e)&&((i=(r=t.toast.cancel)==null?void 0:r.onClick)==null||i.call(r,n),s())},bo=xt('<button data-button="" data-cancel=""> </button>'),wo=(n,t,e)=>{var s;fn(t.toast.action)&&((s=t.toast.action)==null||s.onClick(n),!n.defaultPrevented&&e())},Eo=xt('<button data-button=""> </button>'),Ao=xt('<!> <div data-content=""><div data-title=""><!></div> <!></div> <!> <!>',1),To=xt('<li data-sonner-toast=""><!> <!></li>');function wc(n,t){Js(t,!0);const e=y=>{var E=st(),P=nt(E);{var F=R=>{var ct=po(),pt=Tt(ct);re(pt,()=>t.loadingIcon),_t(ct),ht(ut=>{St(ct,1,ut),H(ct,"data-visible",c(I)==="loading")},[()=>{var ut,ot,Ft;return kt(Dt((ut=c(Et))==null?void 0:ut.loader,(Ft=(ot=t.toast)==null?void 0:ot.classes)==null?void 0:Ft.loader,"sonner-loader"))}]),M(R,ct)},U=R=>{const ct=V(()=>{var ut,ot;return Dt((ut=c(Et))==null?void 0:ut.loader,(ot=t.toast.classes)==null?void 0:ot.loader)}),pt=V(()=>c(I)==="loading");Xi(R,{get class(){return c(ct)},get visible(){return c(pt)}})};K(P,R=>{t.loadingIcon?R(F):R(U,!1)})}M(y,E)};let s=me(t,"cancelButtonStyle",3,""),r=me(t,"actionButtonStyle",3,""),i=me(t,"descriptionClass",3,""),o=me(t,"unstyled",3,!1),a=me(t,"defaultRichColors",3,!1);const u={...fo};let f=j(!1),h=j(!1),g=j(!1),p=j(!1),L=j(!1),_=j(0),T=j(0),q=t.toast.duration||t.duration||Rs,A=j(void 0),N=j(null),m=j(null);const d=V(()=>t.index===0),v=V(()=>t.index+1<=t.visibleToasts),I=V(()=>t.toast.type),B=V(()=>t.toast.dismissable!==!1),at=V(()=>t.toast.class||""),Bt=V(()=>t.toast.descriptionClass||""),Nt=V(()=>Z.heights.findIndex(y=>y.toastId===t.toast.id)||0),It=V(()=>t.toast.closeButton??t.closeButton),Yt=V(()=>t.toast.duration??t.duration??Rs);let S=null;const w=V(()=>t.position.split("-")),it=V(()=>Z.heights.reduce((y,E,P)=>P>=c(Nt)?y:y+E.height,0)),$t=oo(),Xe=V(()=>t.toast.invert||t.invert),te=V(()=>c(I)==="loading"),Et=V(()=>({...u,...t.classes})),Sr=V(()=>t.toast.title),Rr=V(()=>t.toast.description);let kn=j(0),fs=j(0);const Ke=V(()=>Math.round(c(Nt)*ao+c(it)));Ht(()=>{c(Sr),c(Rr);let y;t.expanded||t.expandByDefault?y=1:y=1-t.index*lo;const E=Zt(()=>c(A));if(E===void 0)return;E.style.setProperty("height","auto");const P=E.offsetHeight,F=E.getBoundingClientRect().height,U=Math.round(F/y+Number.EPSILON&100)/100;E.style.removeProperty("height");let R;Math.abs(U-P)<1?R=U:R=P,C(T,R,!0),Z.setHeight({toastId:t.toast.id,height:R})});function jt(){C(h,!0),C(_,c(Ke),!0),Z.removeHeight(t.toast.id),setTimeout(()=>{Z.remove(t.toast.id)},uo)}let Sn;const Cr=V(()=>t.toast.promise&&c(I)==="loading"||t.toast.duration===Number.POSITIVE_INFINITY);function hs(){C(kn,new Date().getTime(),!0),Sn=setTimeout(()=>{var y,E;(E=(y=t.toast).onAutoClose)==null||E.call(y,t.toast),jt()},q)}function Or(){if(c(fs)<c(kn)){const y=new Date().getTime()-c(kn);q=q-y}C(fs,new Date().getTime(),!0)}Ht(()=>{t.toast.updated&&(clearTimeout(Sn),q=c(Yt),hs())}),Ht(()=>(c(Cr)||(t.expanded||t.interacting||$t.current?Or():hs()),()=>clearTimeout(Sn))),wi(()=>{var E;C(f,!0);const y=(E=c(A))==null?void 0:E.getBoundingClientRect().height;return C(T,y,!0),Z.setHeight({toastId:t.toast.id,height:y}),()=>{Z.removeHeight(t.toast.id)}}),Ht(()=>{t.toast.delete&&jt()});const xr=y=>{if(c(te))return;C(_,c(Ke),!0);const E=y.target;E.setPointerCapture(y.pointerId),E.tagName!=="BUTTON"&&(C(g,!0),S={x:y.clientX,y:y.clientY})},Br=()=>{var R,ct,pt,ut,ot,Ft;if(c(p)||!c(B))return;S=null;const y=Number(((R=c(A))==null?void 0:R.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),E=Number(((ct=c(A))==null?void 0:ct.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),P=new Date().getTime()-0,F=c(N)==="x"?y:E,U=Math.abs(F)/P;if(Math.abs(F)>=co||U>.11){C(_,c(Ke),!0),(ut=(pt=t.toast).onDismiss)==null||ut.call(pt,t.toast),c(N)==="x"?C(m,y>0?"right":"left",!0):C(m,E>0?"down":"up",!0),jt(),C(p,!0);return}else(ot=c(A))==null||ot.style.setProperty("--swipe-amount-x","0px"),(Ft=c(A))==null||Ft.style.setProperty("--swipe-amount-y","0px");C(L,!1),C(g,!1),C(N,null)},Nr=y=>{var ct,pt,ut;if(!S||!c(B)||(((ct=window.getSelection())==null?void 0:ct.toString().length)??-1)>0)return;const P=y.clientY-S.y,F=y.clientX-S.x,U=t.swipeDirections??ho(t.position);!c(N)&&(Math.abs(F)>1||Math.abs(P)>1)&&C(N,Math.abs(F)>Math.abs(P)?"x":"y",!0);let R={x:0,y:0};if(c(N)==="y"){if(U.includes("top")||U.includes("bottom"))if(U.includes("top")&&P<0||U.includes("bottom")&&P>0)R.y=P;else{const ot=P*Cs(P);R.y=Math.abs(ot)<Math.abs(P)?ot:P}}else if(c(N)==="x"&&(U.includes("left")||U.includes("right")))if(U.includes("left")&&F<0||U.includes("right")&&F>0)R.x=F;else{const ot=F*Cs(F);R.x=Math.abs(ot)<Math.abs(F)?ot:F}(Math.abs(R.x)>0||Math.abs(R.y)>0)&&C(L,!0),(pt=c(A))==null||pt.style.setProperty("--swipe-amount-x",`${R.x}px`),(ut=c(A))==null||ut.style.setProperty("--swipe-amount-y",`${R.y}px`)},Ir=()=>{C(g,!1),C(N,null),S=null},Lr=V(()=>t.toast.icon?t.toast.icon:c(I)==="success"?t.successIcon:c(I)==="error"?t.errorIcon:c(I)==="warning"?t.warningIcon:c(I)==="info"?t.infoIcon:c(I)==="loading"?t.loadingIcon:null);var D=To();H(D,"tabindex",0);let ds;D.__pointermove=Nr,D.__pointerup=Br,D.__pointerdown=xr;var ps=Tt(D);{var Pr=y=>{var E=mo();E.__click=[go,te,B,jt,t];var P=Tt(E);re(P,()=>t.closeIcon??oe),_t(E),ht(F=>{H(E,"aria-label",t.closeButtonAriaLabel),H(E,"data-disabled",c(te)),St(E,1,F)},[()=>{var F,U,R;return kt(Dt((F=c(Et))==null?void 0:F.closeButton,(R=(U=t.toast)==null?void 0:U.classes)==null?void 0:R.closeButton))}]),M(y,E)};K(ps,y=>{c(It)&&!t.toast.component&&c(I)!=="loading"&&t.closeIcon!==null&&y(Pr)})}var Dr=se(ps,2);{var Mr=y=>{var E=st();const P=V(()=>t.toast.component);var F=nt(E);Xt(F,()=>c(P),(U,R)=>{R(U,In(()=>t.toast.componentProps,{closeToast:jt}))}),M(y,E)},qr=y=>{var E=Ao(),P=nt(E);{var F=W=>{var J=yo(),lt=Tt(J);{var Lt=k=>{var Q=st(),X=nt(Q);{var z=Y=>{var ft=st(),mt=nt(ft);Xt(mt,()=>t.toast.icon,(ge,At)=>{At(ge,{})}),M(Y,ft)},gt=Y=>{e(Y)};K(X,Y=>{t.toast.icon?Y(z):Y(gt,!1)})}M(k,Q)};K(lt,k=>{(t.toast.promise||c(I)==="loading")&&k(Lt)})}var Pt=se(lt,2);{var x=k=>{var Q=st(),X=nt(Q);{var z=Y=>{var ft=st(),mt=nt(ft);Xt(mt,()=>t.toast.icon,(ge,At)=>{At(ge,{})}),M(Y,ft)},gt=(Y,ft)=>{{var mt=At=>{var Je=st(),Rn=nt(Je);re(Rn,()=>t.successIcon??oe),M(At,Je)},ge=(At,Je)=>{{var Rn=ee=>{var Ge=st(),Cn=nt(Ge);re(Cn,()=>t.errorIcon??oe),M(ee,Ge)},Hr=(ee,Ge)=>{{var Cn=ne=>{var Qe=st(),On=nt(Qe);re(On,()=>t.warningIcon??oe),M(ne,Qe)},zr=(ne,Qe)=>{{var On=xn=>{var gs=st(),Wr=nt(gs);re(Wr,()=>t.infoIcon??oe),M(xn,gs)};K(ne,xn=>{c(I)==="info"&&xn(On)},Qe)}};K(ee,ne=>{c(I)==="warning"?ne(Cn):ne(zr,!1)},Ge)}};K(At,ee=>{c(I)==="error"?ee(Rn):ee(Hr,!1)},Je)}};K(Y,At=>{c(I)==="success"?At(mt):At(ge,!1)},ft)}};K(X,Y=>{t.toast.icon?Y(z):Y(gt,!1)})}M(k,Q)};K(Pt,k=>{t.toast.type!=="loading"&&k(x)})}_t(J),ht(k=>St(J,1,k),[()=>{var k,Q,X;return kt(Dt((k=c(Et))==null?void 0:k.icon,(X=(Q=t.toast)==null?void 0:Q.classes)==null?void 0:X.icon))}]),M(W,J)};K(P,W=>{(c(I)||t.toast.icon||t.toast.promise)&&t.toast.icon!==null&&(c(Lr)!==null||t.toast.icon)&&W(F)})}var U=se(P,2),R=Tt(U),ct=Tt(R);{var pt=W=>{var J=st(),lt=nt(J);{var Lt=x=>{var k=st();const Q=V(()=>t.toast.title);var X=nt(k);Xt(X,()=>c(Q),(z,gt)=>{gt(z,In(()=>t.toast.componentProps))}),M(x,k)},Pt=x=>{var k=ws();ht(()=>Ze(k,t.toast.title)),M(x,k)};K(lt,x=>{typeof t.toast.title!="string"?x(Lt):x(Pt,!1)})}M(W,J)};K(ct,W=>{t.toast.title&&W(pt)})}_t(R);var ut=se(R,2);{var ot=W=>{var J=_o(),lt=Tt(J);{var Lt=x=>{var k=st();const Q=V(()=>t.toast.description);var X=nt(k);Xt(X,()=>c(Q),(z,gt)=>{gt(z,In(()=>t.toast.componentProps))}),M(x,k)},Pt=x=>{var k=ws();ht(()=>Ze(k,t.toast.description)),M(x,k)};K(lt,x=>{typeof t.toast.description!="string"?x(Lt):x(Pt,!1)})}_t(J),ht(x=>St(J,1,x),[()=>{var x,k;return kt(Dt(i(),c(Bt),(x=c(Et))==null?void 0:x.description,(k=t.toast.classes)==null?void 0:k.description))}]),M(W,J)};K(ut,W=>{t.toast.description&&W(ot)})}_t(U);var Ft=se(U,2);{var Fr=W=>{var J=st(),lt=nt(J);{var Lt=x=>{var k=st(),Q=nt(k);Xt(Q,()=>t.toast.cancel,(X,z)=>{z(X,{})}),M(x,k)},Pt=(x,k)=>{{var Q=X=>{var z=bo();z.__click=[vo,t,B,jt];var gt=Tt(z,!0);_t(z),ht(Y=>{sn(z,t.toast.cancelButtonStyle??s()),St(z,1,Y),Ze(gt,t.toast.cancel.label)},[()=>{var Y,ft,mt;return kt(Dt((Y=c(Et))==null?void 0:Y.cancelButton,(mt=(ft=t.toast)==null?void 0:ft.classes)==null?void 0:mt.cancelButton))}]),M(X,z)};K(x,X=>{fn(t.toast.cancel)&&X(Q)},k)}};K(lt,x=>{typeof t.toast.cancel=="function"?x(Lt):x(Pt,!1)})}M(W,J)};K(Ft,W=>{t.toast.cancel&&W(Fr)})}var Vr=se(Ft,2);{var Ur=W=>{var J=st(),lt=nt(J);{var Lt=x=>{var k=st(),Q=nt(k);Xt(Q,()=>t.toast.action,(X,z)=>{z(X,{})}),M(x,k)},Pt=(x,k)=>{{var Q=X=>{var z=Eo();z.__click=[wo,t,jt];var gt=Tt(z,!0);_t(z),ht(Y=>{sn(z,t.toast.actionButtonStyle??r()),St(z,1,Y),Ze(gt,t.toast.action.label)},[()=>{var Y,ft,mt;return kt(Dt((Y=c(Et))==null?void 0:Y.actionButton,(mt=(ft=t.toast)==null?void 0:ft.classes)==null?void 0:mt.actionButton))}]),M(X,z)};K(x,X=>{fn(t.toast.action)&&X(Q)},k)}};K(lt,x=>{typeof t.toast.action=="function"?x(Lt):x(Pt,!1)})}M(W,J)};K(Vr,W=>{t.toast.action&&W(Ur)})}ht(W=>St(R,1,W),[()=>{var W,J,lt;return kt(Dt((W=c(Et))==null?void 0:W.title,(lt=(J=t.toast)==null?void 0:J.classes)==null?void 0:lt.title))}]),M(y,E)};K(Dr,y=>{t.toast.component?y(Mr):y(qr,!1)})}_t(D),Ni(D,y=>C(A,y),()=>c(A)),ht((y,E,P)=>{St(D,1,y),H(D,"data-rich-colors",t.toast.richColors??a()),H(D,"data-styled",!(t.toast.component||t.toast.unstyled||o())),H(D,"data-mounted",c(f)),H(D,"data-promise",E),H(D,"data-swiped",c(L)),H(D,"data-removed",c(h)),H(D,"data-visible",c(v)),H(D,"data-y-position",c(w)[0]),H(D,"data-x-position",c(w)[1]),H(D,"data-index",t.index),H(D,"data-front",c(d)),H(D,"data-swiping",c(g)),H(D,"data-dismissable",c(B)),H(D,"data-type",c(I)),H(D,"data-invert",c(Xe)),H(D,"data-swipe-out",c(p)),H(D,"data-swipe-direction",c(m)),H(D,"data-expanded",P),ds=sn(D,`${t.style} ${t.toast.style}`,ds,{"--index":t.index,"--toasts-before":t.index,"--z-index":Z.toasts.length-t.index,"--offset":`${c(h)?c(_):c(Ke)}px`,"--initial-height":t.expandByDefault?"auto":`${c(T)}px`})},[()=>{var y,E,P,F,U,R;return kt(Dt(t.class,c(at),(y=c(Et))==null?void 0:y.toast,(P=(E=t.toast)==null?void 0:E.classes)==null?void 0:P.toast,(F=c(Et))==null?void 0:F[c(I)],(R=(U=t.toast)==null?void 0:U.classes)==null?void 0:R[c(I)]))},()=>!!t.toast.promise,()=>!!(t.expanded||t.expandByDefault&&c(f))]),Ii("dragend",D,Ir),M(n,D),Gs()}Qs(["pointermove","pointerup","pointerdown","click"]);Ei();const rr=typeof window<"u"?window:void 0;function ko(n){let t=n.activeElement;for(;t!=null&&t.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}var ce,Ne,zs;let So=(zs=class{constructor(t={}){b(this,ce);b(this,Ne);const{window:e=rr,document:s=e==null?void 0:e.document}=t;e!==void 0&&(G(this,ce,s),G(this,Ne,de(r=>{const i=wt(e,"focusin",r),o=wt(e,"focusout",r);return()=>{i(),o()}})))}get current(){var t;return(t=l(this,Ne))==null||t.call(this),l(this,ce)?ko(l(this,ce)):null}},ce=new WeakMap,Ne=new WeakMap,zs);new So;function Ro(n,t){switch(n){case"post":Ht(t);break;case"pre":En(t);break}}function ir(n,t,e,s={}){const{lazy:r=!1}=s;let i=!r,o=Array.isArray(n)?[]:void 0;Ro(t,()=>{const a=Array.isArray(n)?n.map(f=>f()):n();if(!i){i=!0,o=a;return}const u=Zt(()=>e(a,o));return o=a,u})}function rs(n,t,e){ir(n,"post",t,e)}function Co(n,t,e){ir(n,"pre",t,e)}rs.pre=Co;function Oo(n,t){switch(n){case"local":return t.localStorage;case"session":return t.sessionStorage}}var Kt,Mt,ue,Jt,Ie,vt,pn,Ct,rn,on;class or{constructor(t,e,s={}){b(this,Ct);b(this,Kt);b(this,Mt);b(this,ue);b(this,Jt);b(this,Ie);b(this,vt,j(0));b(this,pn,t=>{t.key!==l(this,Mt)||t.newValue===null||(G(this,Kt,yt(this,Ct,rn).call(this,t.newValue)),C(l(this,vt),c(l(this,vt))+1))});const{storage:r="local",serializer:i={serialize:JSON.stringify,deserialize:JSON.parse},syncTabs:o=!0,window:a=rr}=s;if(G(this,Kt,e),G(this,Mt,t),G(this,ue,i),a===void 0)return;const u=Oo(r,a);G(this,Jt,u);const f=u.getItem(t);f!==null?G(this,Kt,yt(this,Ct,rn).call(this,f)):yt(this,Ct,on).call(this,e),o&&r==="local"&&G(this,Ie,de(()=>wt(a,"storage",l(this,pn))))}get current(){var r,i;(r=l(this,Ie))==null||r.call(this),c(l(this,vt));const t=yt(this,Ct,rn).call(this,(i=l(this,Jt))==null?void 0:i.getItem(l(this,Mt)))??l(this,Kt),e=new WeakMap,s=o=>{if(o===null||(o==null?void 0:o.constructor.name)==="Date"||typeof o!="object")return o;let a=e.get(o);return a||(a=new Proxy(o,{get:(u,f)=>(c(l(this,vt)),s(Reflect.get(u,f))),set:(u,f,h)=>(C(l(this,vt),c(l(this,vt))+1),Reflect.set(u,f,h),yt(this,Ct,on).call(this,t),!0)}),e.set(o,a)),a};return s(t)}set current(t){yt(this,Ct,on).call(this,t),C(l(this,vt),c(l(this,vt))+1)}}Kt=new WeakMap,Mt=new WeakMap,ue=new WeakMap,Jt=new WeakMap,Ie=new WeakMap,vt=new WeakMap,pn=new WeakMap,Ct=new WeakSet,rn=function(t){try{return l(this,ue).deserialize(t)}catch(e){console.error(`Error when parsing "${t}" from persisted store "${l(this,Mt)}"`,e);return}},on=function(t){var e;try{t!=null&&((e=l(this,Jt))==null||e.setItem(l(this,Mt),l(this,ue).serialize(t)))}catch(s){console.error(`Error when writing value from persisted store "${l(this,Mt)}" to ${l(this,Jt)}`,s)}};function Os(n){return n.filter(t=>t.length>0)}const ar={getItem:n=>null,setItem:(n,t)=>{}},je=typeof document<"u";function xo(n){return typeof n=="function"}function Bo(n){return n!==null&&typeof n=="object"}const No=["string","number","bigint","boolean"];function Io(n){return n==null||No.includes(typeof n)?!0:Array.isArray(n)?n.every(t=>Io(t)):typeof n=="object"?Object.getPrototypeOf(n)===Object.prototype:!1}const ke=Symbol("box"),is=Symbol("is-writable");function Lo(n){return Bo(n)&&ke in n}function Po(n){return et.isBox(n)&&is in n}function et(n){let t=j(Wt(n));return{[ke]:!0,[is]:!0,get current(){return c(t)},set current(e){C(t,e,!0)}}}function Do(n,t){const e=V(n);return t?{[ke]:!0,[is]:!0,get current(){return c(e)},set current(s){t(s)}}:{[ke]:!0,get current(){return n()}}}function Mo(n){return et.isBox(n)?n:xo(n)?et.with(n):et(n)}function qo(n){return Object.entries(n).reduce((t,[e,s])=>et.isBox(s)?(et.isWritableBox(s)?Object.defineProperty(t,e,{get(){return s.current},set(r){s.current=r}}):Object.defineProperty(t,e,{get(){return s.current}}),t):Object.assign(t,{[e]:s}),{})}function Fo(n){return et.isWritableBox(n)?{[ke]:!0,get current(){return n.current}}:n}et.from=Mo;et.with=Do;et.flatten=qo;et.readonly=Fo;et.isBox=Lo;et.isWritableBox=Po;function Vo(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ie={},Dn,xs;function Uo(){if(xs)return Dn;xs=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,e=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,u=`
`,f="/",h="*",g="",p="comment",L="declaration";Dn=function(T,q){if(typeof T!="string")throw new TypeError("First argument must be a string");if(!T)return[];q=q||{};var A=1,N=1;function m(S){var w=S.match(t);w&&(A+=w.length);var it=S.lastIndexOf(u);N=~it?S.length-it:N+S.length}function d(){var S={line:A,column:N};return function(w){return w.position=new v(S),at(),w}}function v(S){this.start=S,this.end={line:A,column:N},this.source=q.source}v.prototype.content=T;function I(S){var w=new Error(q.source+":"+A+":"+N+": "+S);if(w.reason=S,w.filename=q.source,w.line=A,w.column=N,w.source=T,!q.silent)throw w}function B(S){var w=S.exec(T);if(w){var it=w[0];return m(it),T=T.slice(it.length),w}}function at(){B(e)}function Bt(S){var w;for(S=S||[];w=Nt();)w!==!1&&S.push(w);return S}function Nt(){var S=d();if(!(f!=T.charAt(0)||h!=T.charAt(1))){for(var w=2;g!=T.charAt(w)&&(h!=T.charAt(w)||f!=T.charAt(w+1));)++w;if(w+=2,g===T.charAt(w-1))return I("End of comment missing");var it=T.slice(2,w-2);return N+=2,m(it),T=T.slice(w),N+=2,S({type:p,comment:it})}}function It(){var S=d(),w=B(s);if(w){if(Nt(),!B(r))return I("property missing ':'");var it=B(i),$t=S({type:L,property:_(w[0].replace(n,g)),value:it?_(it[0].replace(n,g)):g});return B(o),$t}}function Yt(){var S=[];Bt(S);for(var w;w=It();)w!==!1&&(S.push(w),Bt(S));return S}return at(),Yt()};function _(T){return T?T.replace(a,g):g}return Dn}var Bs;function Ho(){if(Bs)return ie;Bs=1;var n=ie&&ie.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=e;var t=n(Uo());function e(s,r){var i=null;if(!s||typeof s!="string")return i;var o=(0,t.default)(s),a=typeof r=="function";return o.forEach(function(u){if(u.type==="declaration"){var f=u.property,h=u.value;a?r(f,h,u):h&&(i=i||{},i[f]=h)}}),i}return ie}var zo=Ho();const Ns=Vo(zo),Ac=Ns.default||Ns;function Wo(n,t){const e=RegExp(n,"g");return s=>{if(typeof s!="string")throw new TypeError(`expected an argument of type string, but got ${typeof s}`);return s.match(e)?s.replace(e,t):s}}const Yo=Wo(/[A-Z]/,n=>`-${n.toLowerCase()}`);function jo(n){if(!n||typeof n!="object"||Array.isArray(n))throw new TypeError(`expected an argument of type object, but got ${typeof n}`);return Object.keys(n).map(t=>`${Yo(t)}: ${n[t]};`).join(`
`)}function Xo(n={}){return jo(n).replace(`
`," ")}const Ko={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};Xo(Ko);const Jo=typeof window<"u"?window:void 0;function Go(n){let t=n.activeElement;for(;t!=null&&t.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}var le,Le,Ws;let Qo=(Ws=class{constructor(t={}){b(this,le);b(this,Le);const{window:e=Jo,document:s=e==null?void 0:e.document}=t;e!==void 0&&(G(this,le,s),G(this,Le,de(r=>{const i=wt(e,"focusin",r),o=wt(e,"focusout",r);return()=>{i(),o()}})))}get current(){var t;return(t=l(this,Le))==null||t.call(this),l(this,le)?Go(l(this,le)):null}},le=new WeakMap,Le=new WeakMap,Ws);new Qo;function Zo(n,t){switch(n){case"post":Ht(t);break;case"pre":En(t);break}}function cr(n,t,e,s={}){const{lazy:r=!1}=s;let i=!r,o=Array.isArray(n)?[]:void 0;Zo(t,()=>{const a=Array.isArray(n)?n.map(f=>f()):n();if(!i){i=!0,o=a;return}const u=Zt(()=>e(a,o));return o=a,u})}function $o(n,t,e){cr(n,"post",t,e)}function ta(n,t,e){cr(n,"pre",t,e)}$o.pre=ta;const Mn=et("mode-watcher-mode"),qn=et("mode-watcher-theme"),ea=["dark","light","system"];function Is(n){return typeof n!="string"?!1:ea.includes(n)}var Pe,gn,De,mn,Gt,Me,Yn;class na{constructor(){b(this,Me);b(this,Pe,"system");b(this,gn,je?localStorage:ar);b(this,De,l(this,gn).getItem(Mn.current));b(this,mn,Is(l(this,De))?l(this,De):l(this,Pe));b(this,Gt,j(Wt(yt(this,Me,Yn).call(this))));ss(()=>rs.pre(()=>Mn.current,(t,e)=>{const s=c(l(this,Gt)).current;C(l(this,Gt),yt(this,Me,Yn).call(this,s),!0),e&&localStorage.removeItem(e)}))}get current(){return c(l(this,Gt)).current}set current(t){c(l(this,Gt)).current=t}}Pe=new WeakMap,gn=new WeakMap,De=new WeakMap,mn=new WeakMap,Gt=new WeakMap,Me=new WeakSet,Yn=function(t=l(this,mn)){return new or(Mn.current,t,{serializer:{serialize:e=>e,deserialize:e=>Is(e)?e:l(this,Pe)}})};var yn,qe,Fe,_n;class sa{constructor(){b(this,yn);b(this,qe,!0);b(this,Fe,j(Wt(l(this,yn))));b(this,_n,typeof window<"u"&&typeof window.matchMedia=="function"?new to("prefers-color-scheme: light"):{current:!1});ss(()=>{En(()=>{l(this,qe)&&this.query()})}),this.query=this.query.bind(this),this.tracking=this.tracking.bind(this)}query(){je&&C(l(this,Fe),l(this,_n).current?"light":"dark",!0)}tracking(t){G(this,qe,t)}get current(){return c(l(this,Fe))}}yn=new WeakMap,qe=new WeakMap,Fe=new WeakMap,_n=new WeakMap;const hn=new na,ra=new sa;var vn,fe,bn,Qt,Ve,jn;class ia{constructor(){b(this,Ve);b(this,vn,je?localStorage:ar);b(this,fe,l(this,vn).getItem(qn.current));b(this,bn,l(this,fe)===null||l(this,fe)===void 0?"":l(this,fe));b(this,Qt,j(Wt(yt(this,Ve,jn).call(this))));ss(()=>rs.pre(()=>qn.current,(t,e)=>{const s=c(l(this,Qt)).current;C(l(this,Qt),yt(this,Ve,jn).call(this,s),!0),e&&localStorage.removeItem(e)}))}get current(){return c(l(this,Qt)).current}set current(t){c(l(this,Qt)).current=t}}vn=new WeakMap,fe=new WeakMap,bn=new WeakMap,Qt=new WeakMap,Ve=new WeakSet,jn=function(t=l(this,bn)){return new or(qn.current,t,{serializer:{serialize:e=>typeof e!="string"?"":e,deserialize:e=>e}})};const an=new ia;let Ls,Ps,Ds=!1,ve=null;function oa(){return ve||(ve=document.createElement("style"),ve.appendChild(document.createTextNode(`* {
		-webkit-transition: none !important;
		-moz-transition: none !important;
		-o-transition: none !important;
		-ms-transition: none !important;
		transition: none !important;
	}`)),ve)}function ur(n){if(typeof document>"u")return;if(!Ds){Ds=!0,n();return}if(typeof window<"u"&&window.__vitest_worker__){n();return}clearTimeout(Ls),clearTimeout(Ps);const e=oa(),s=()=>document.head.appendChild(e),r=()=>{e.parentNode&&document.head.removeChild(e)};if(typeof window.requestAnimationFrame<"u"){s(),window.requestAnimationFrame(()=>{n(),window.requestAnimationFrame(r)});return}s(),Ls=window.setTimeout(()=>{n(),Ps=window.setTimeout(r,16)},16)}const $e=et(void 0),lr=et(!0),aa=et([]),ca=et([]);function ua(){const n=V(()=>{if(!je)return;const t=hn.current==="system"?ra.current:hn.current,e=Os(aa.current),s=Os(ca.current);function r(){const i=document.documentElement,o=document.querySelector('meta[name="theme-color"]');t==="light"?(e.length&&i.classList.remove(...e),s.length&&i.classList.add(...s),i.style.colorScheme="light",o&&$e.current&&o.setAttribute("content",$e.current.light)):(s.length&&i.classList.remove(...s),e.length&&i.classList.add(...e),i.style.colorScheme="dark",o&&$e.current&&o.setAttribute("content",$e.current.dark))}return lr.current?ur(r):r(),t});return{get current(){return c(n)}}}function la(){const n=V(()=>{if(an.current,!je)return;function t(){document.documentElement.setAttribute("data-theme",an.current)}return lr.current?ur(t):t(),an.current});return{get current(){return c(n)}}}const fa=ua(),kc=la();function Sc(){hn.current=fa.current==="dark"?"light":"dark"}function Rc(n){hn.current=n}function Cc(n){an.current=n}function Oc(n){return n}function xc({defaultMode:n="system",themeColors:t,darkClassNames:e=["dark"],lightClassNames:s=[],defaultTheme:r="",modeStorageKey:i="mode-watcher-mode",themeStorageKey:o="mode-watcher-theme"}){const a=document.documentElement,u=localStorage.getItem(i)??n,f=localStorage.getItem(o)??r,h=u==="light"||u==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(h?(e.length&&a.classList.remove(...e.filter(Boolean)),s.length&&a.classList.add(...s.filter(Boolean))):(s.length&&a.classList.remove(...s.filter(Boolean)),e.length&&a.classList.add(...e.filter(Boolean))),a.style.colorScheme=h?"light":"dark",t){const g=document.querySelector('meta[name="theme-color"]');g&&g.setAttribute("content",u==="light"?t.light:t.dark)}f&&(a.setAttribute("data-theme",f),localStorage.setItem(o,f)),localStorage.setItem(i,u)}const Ot=Object.create(null);Ot.open="0";Ot.close="1";Ot.ping="2";Ot.pong="3";Ot.message="4";Ot.upgrade="5";Ot.noop="6";const cn=Object.create(null);Object.keys(Ot).forEach(n=>{cn[Ot[n]]=n});const Xn={type:"error",data:"parser error"},fr=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",hr=typeof ArrayBuffer=="function",dr=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,os=({type:n,data:t},e,s)=>fr&&t instanceof Blob?e?s(t):Ms(t,s):hr&&(t instanceof ArrayBuffer||dr(t))?e?s(t):Ms(new Blob([t]),s):s(Ot[n]+(t||"")),Ms=(n,t)=>{const e=new FileReader;return e.onload=function(){const s=e.result.split(",")[1];t("b"+(s||""))},e.readAsDataURL(n)};function qs(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let Fn;function ha(n,t){if(fr&&n.data instanceof Blob)return n.data.arrayBuffer().then(qs).then(t);if(hr&&(n.data instanceof ArrayBuffer||dr(n.data)))return t(qs(n.data));os(n,!1,e=>{Fn||(Fn=new TextEncoder),t(Fn.encode(e))})}const Fs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ee=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<Fs.length;n++)Ee[Fs.charCodeAt(n)]=n;const da=n=>{let t=n.length*.75,e=n.length,s,r=0,i,o,a,u;n[n.length-1]==="="&&(t--,n[n.length-2]==="="&&t--);const f=new ArrayBuffer(t),h=new Uint8Array(f);for(s=0;s<e;s+=4)i=Ee[n.charCodeAt(s)],o=Ee[n.charCodeAt(s+1)],a=Ee[n.charCodeAt(s+2)],u=Ee[n.charCodeAt(s+3)],h[r++]=i<<2|o>>4,h[r++]=(o&15)<<4|a>>2,h[r++]=(a&3)<<6|u&63;return f},pa=typeof ArrayBuffer=="function",as=(n,t)=>{if(typeof n!="string")return{type:"message",data:pr(n,t)};const e=n.charAt(0);return e==="b"?{type:"message",data:ga(n.substring(1),t)}:cn[e]?n.length>1?{type:cn[e],data:n.substring(1)}:{type:cn[e]}:Xn},ga=(n,t)=>{if(pa){const e=da(n);return pr(e,t)}else return{base64:!0,data:n}},pr=(n,t)=>{switch(t){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}},gr="",ma=(n,t)=>{const e=n.length,s=new Array(e);let r=0;n.forEach((i,o)=>{os(i,!1,a=>{s[o]=a,++r===e&&t(s.join(gr))})})},ya=(n,t)=>{const e=n.split(gr),s=[];for(let r=0;r<e.length;r++){const i=as(e[r],t);if(s.push(i),i.type==="error")break}return s};function _a(){return new TransformStream({transform(n,t){ha(n,e=>{const s=e.length;let r;if(s<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,s);else if(s<65536){r=new Uint8Array(3);const i=new DataView(r.buffer);i.setUint8(0,126),i.setUint16(1,s)}else{r=new Uint8Array(9);const i=new DataView(r.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(s))}n.data&&typeof n.data!="string"&&(r[0]|=128),t.enqueue(r),t.enqueue(e)})}})}let Vn;function tn(n){return n.reduce((t,e)=>t+e.length,0)}function en(n,t){if(n[0].length===t)return n.shift();const e=new Uint8Array(t);let s=0;for(let r=0;r<t;r++)e[r]=n[0][s++],s===n[0].length&&(n.shift(),s=0);return n.length&&s<n[0].length&&(n[0]=n[0].slice(s)),e}function va(n,t){Vn||(Vn=new TextDecoder);const e=[];let s=0,r=-1,i=!1;return new TransformStream({transform(o,a){for(e.push(o);;){if(s===0){if(tn(e)<1)break;const u=en(e,1);i=(u[0]&128)===128,r=u[0]&127,r<126?s=3:r===126?s=1:s=2}else if(s===1){if(tn(e)<2)break;const u=en(e,2);r=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),s=3}else if(s===2){if(tn(e)<8)break;const u=en(e,8),f=new DataView(u.buffer,u.byteOffset,u.length),h=f.getUint32(0);if(h>Math.pow(2,21)-1){a.enqueue(Xn);break}r=h*Math.pow(2,32)+f.getUint32(4),s=3}else{if(tn(e)<r)break;const u=en(e,r);a.enqueue(as(i?u:Vn.decode(u),t)),s=0}if(r===0||r>n){a.enqueue(Xn);break}}}})}const mr=4;function $(n){if(n)return ba(n)}function ba(n){for(var t in $.prototype)n[t]=$.prototype[t];return n}$.prototype.on=$.prototype.addEventListener=function(n,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(t),this};$.prototype.once=function(n,t){function e(){this.off(n,e),t.apply(this,arguments)}return e.fn=t,this.on(n,e),this};$.prototype.off=$.prototype.removeListener=$.prototype.removeAllListeners=$.prototype.removeEventListener=function(n,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+n];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var s,r=0;r<e.length;r++)if(s=e[r],s===t||s.fn===t){e.splice(r,1);break}return e.length===0&&delete this._callbacks["$"+n],this};$.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),e=this._callbacks["$"+n],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(e){e=e.slice(0);for(var s=0,r=e.length;s<r;++s)e[s].apply(this,t)}return this};$.prototype.emitReserved=$.prototype.emit;$.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};$.prototype.hasListeners=function(n){return!!this.listeners(n).length};const An=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,e)=>e(t,0),dt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),wa="arraybuffer";function yr(n,...t){return t.reduce((e,s)=>(n.hasOwnProperty(s)&&(e[s]=n[s]),e),{})}const Ea=dt.setTimeout,Aa=dt.clearTimeout;function Tn(n,t){t.useNativeTimers?(n.setTimeoutFn=Ea.bind(dt),n.clearTimeoutFn=Aa.bind(dt)):(n.setTimeoutFn=dt.setTimeout.bind(dt),n.clearTimeoutFn=dt.clearTimeout.bind(dt))}const Ta=1.33;function ka(n){return typeof n=="string"?Sa(n):Math.ceil((n.byteLength||n.size)*Ta)}function Sa(n){let t=0,e=0;for(let s=0,r=n.length;s<r;s++)t=n.charCodeAt(s),t<128?e+=1:t<2048?e+=2:t<55296||t>=57344?e+=3:(s++,e+=4);return e}function _r(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Ra(n){let t="";for(let e in n)n.hasOwnProperty(e)&&(t.length&&(t+="&"),t+=encodeURIComponent(e)+"="+encodeURIComponent(n[e]));return t}function Ca(n){let t={},e=n.split("&");for(let s=0,r=e.length;s<r;s++){let i=e[s].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class Oa extends Error{constructor(t,e,s){super(t),this.description=e,this.context=s,this.type="TransportError"}}class cs extends ${constructor(t){super(),this.writable=!1,Tn(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,e,s){return super.emitReserved("error",new Oa(t,e,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=as(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const e=Ra(t);return e.length?"?"+e:""}}class xa extends cs{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||e()})),this.writable||(s++,this.once("drain",function(){--s||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const e=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};ya(t,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,ma(t,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=_r()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(t,e)}}let vr=!1;try{vr=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Ba=vr;function Na(){}class Ia extends xa{constructor(t){if(super(t),typeof location<"u"){const e=location.protocol==="https:";let s=location.port;s||(s=e?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||s!==t.port}}doWrite(t,e){const s=this.request({method:"POST",data:t});s.on("success",e),s.on("error",(r,i)=>{this.onError("xhr post error",r,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(e,s)=>{this.onError("xhr poll error",e,s)}),this.pollXhr=t}}class Rt extends ${constructor(t,e,s){super(),this.createRequest=t,Tn(this,s),this._opts=s,this._method=s.method||"GET",this._uri=e,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var t;const e=yr(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(e);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&s.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var r;s.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=Rt.requestsCount++,Rt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Na,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Rt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Rt.requestsCount=0;Rt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Vs);else if(typeof addEventListener=="function"){const n="onpagehide"in dt?"pagehide":"unload";addEventListener(n,Vs,!1)}}function Vs(){for(let n in Rt.requests)Rt.requests.hasOwnProperty(n)&&Rt.requests[n].abort()}const La=function(){const n=br({xdomain:!1});return n&&n.responseType!==null}();class Pa extends Ia{constructor(t){super(t);const e=t&&t.forceBase64;this.supportsBinary=La&&!e}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Rt(br,this.uri(),t)}}function br(n){const t=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Ba))return new XMLHttpRequest}catch{}if(!t)try{return new dt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const wr=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Da extends cs{get name(){return"websocket"}doOpen(){const t=this.uri(),e=this.opts.protocols,s=wr?{}:yr(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,e,s)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const s=t[e],r=e===t.length-1;os(s,this.supportsBinary,i=>{try{this.doWrite(s,i)}catch{}r&&An(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=_r()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}}const Un=dt.WebSocket||dt.MozWebSocket;class Ma extends Da{createSocket(t,e,s){return wr?new Un(t,e,s):e?new Un(t,e):new Un(t)}doWrite(t,e){this.ws.send(e)}}class qa extends cs{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const e=va(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(e).getReader(),r=_a();r.readable.pipeTo(t.writable),this._writer=r.writable.getWriter();const i=()=>{s.read().then(({done:a,value:u})=>{a||(this.onPacket(u),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const s=t[e],r=e===t.length-1;this._writer.write(s).then(()=>{r&&An(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Fa={websocket:Ma,webtransport:qa,polling:Pa},Va=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ua=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Kn(n){if(n.length>8e3)throw"URI too long";const t=n,e=n.indexOf("["),s=n.indexOf("]");e!=-1&&s!=-1&&(n=n.substring(0,e)+n.substring(e,s).replace(/:/g,";")+n.substring(s,n.length));let r=Va.exec(n||""),i={},o=14;for(;o--;)i[Ua[o]]=r[o]||"";return e!=-1&&s!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Ha(i,i.path),i.queryKey=za(i,i.query),i}function Ha(n,t){const e=/\/{2,9}/g,s=t.replace(e,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function za(n,t){const e={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,r,i){r&&(e[r]=i)}),e}const Jn=typeof addEventListener=="function"&&typeof removeEventListener=="function",un=[];Jn&&addEventListener("offline",()=>{un.forEach(n=>n())},!1);class zt extends ${constructor(t,e){if(super(),this.binaryType=wa,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(e=t,t=null),t){const s=Kn(t);e.hostname=s.host,e.secure=s.protocol==="https"||s.protocol==="wss",e.port=s.port,s.query&&(e.query=s.query)}else e.host&&(e.hostname=Kn(e.host).host);Tn(this,e),this.secure=e.secure!=null?e.secure:typeof location<"u"&&location.protocol==="https:",e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=e.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},e.transports.forEach(s=>{const r=s.prototype.name;this.transports.push(r),this._transportsByName[r]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Ca(this.opts.query)),Jn&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},un.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=mr,e.transport=t,this.id&&(e.sid=this.id);const s=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&zt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const e=this.createTransport(t);e.open(),this.setTransport(e)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",zt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const e=new Error("server error");e.code=t.data,this._onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let s=0;s<this.writeBuffer.length;s++){const r=this.writeBuffer[s].data;if(r&&(e+=ka(r)),s>0&&e>this._maxPayload)return this.writeBuffer.slice(0,s);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,An(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,e,s){return this._sendPacket("message",t,e,s),this}send(t,e,s){return this._sendPacket("message",t,e,s),this}_sendPacket(t,e,s,r){if(typeof e=="function"&&(r=e,e=void 0),typeof s=="function"&&(r=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const i={type:t,data:e,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},s=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}_onError(t){if(zt.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Jn&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=un.indexOf(this._offlineEventListener);s!==-1&&un.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this._prevBufferLen=0}}}zt.protocol=mr;class Wa extends zt{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let e=this.createTransport(t),s=!1;zt.priorWebsocketSuccess=!1;const r=()=>{s||(e.send([{type:"ping",data:"probe"}]),e.once("packet",g=>{if(!s)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;zt.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(h(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=e.name,this.emitReserved("upgradeError",p)}}))};function i(){s||(s=!0,h(),e.close(),e=null)}const o=g=>{const p=new Error("probe error: "+g);p.transport=e.name,i(),this.emitReserved("upgradeError",p)};function a(){o("transport closed")}function u(){o("socket closed")}function f(g){e&&g.name!==e.name&&i()}const h=()=>{e.removeListener("open",r),e.removeListener("error",o),e.removeListener("close",a),this.off("close",u),this.off("upgrading",f)};e.once("open",r),e.once("error",o),e.once("close",a),this.once("close",u),this.once("upgrading",f),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||e.open()},200):e.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const e=[];for(let s=0;s<t.length;s++)~this.transports.indexOf(t[s])&&e.push(t[s]);return e}}let Ya=class extends Wa{constructor(t,e={}){const s=typeof t=="object"?t:e;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(r=>Fa[r]).filter(r=>!!r)),super(t,s)}};function ja(n,t="",e){let s=n;e=e||typeof location<"u"&&location,n==null&&(n=e.protocol+"//"+e.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=e.protocol+n:n=e.host+n),/^(https?|wss?):\/\//.test(n)||(typeof e<"u"?n=e.protocol+"//"+n:n="https://"+n),s=Kn(n)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const i=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+i+":"+s.port+t,s.href=s.protocol+"://"+i+(e&&e.port===s.port?"":":"+s.port),s}const Xa=typeof ArrayBuffer=="function",Ka=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,Er=Object.prototype.toString,Ja=typeof Blob=="function"||typeof Blob<"u"&&Er.call(Blob)==="[object BlobConstructor]",Ga=typeof File=="function"||typeof File<"u"&&Er.call(File)==="[object FileConstructor]";function us(n){return Xa&&(n instanceof ArrayBuffer||Ka(n))||Ja&&n instanceof Blob||Ga&&n instanceof File}function ln(n,t){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let e=0,s=n.length;e<s;e++)if(ln(n[e]))return!0;return!1}if(us(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return ln(n.toJSON(),!0);for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&ln(n[e]))return!0;return!1}function Qa(n){const t=[],e=n.data,s=n;return s.data=Gn(e,t),s.attachments=t.length,{packet:s,buffers:t}}function Gn(n,t){if(!n)return n;if(us(n)){const e={_placeholder:!0,num:t.length};return t.push(n),e}else if(Array.isArray(n)){const e=new Array(n.length);for(let s=0;s<n.length;s++)e[s]=Gn(n[s],t);return e}else if(typeof n=="object"&&!(n instanceof Date)){const e={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=Gn(n[s],t));return e}return n}function Za(n,t){return n.data=Qn(n.data,t),delete n.attachments,n}function Qn(n,t){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<t.length)return t[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let e=0;e<n.length;e++)n[e]=Qn(n[e],t);else if(typeof n=="object")for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(n[e]=Qn(n[e],t));return n}const $a=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],tc=5;var O;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(O||(O={}));class ec{constructor(t){this.replacer=t}encode(t){return(t.type===O.EVENT||t.type===O.ACK)&&ln(t)?this.encodeAsBinary({type:t.type===O.EVENT?O.BINARY_EVENT:O.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let e=""+t.type;return(t.type===O.BINARY_EVENT||t.type===O.BINARY_ACK)&&(e+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(e+=t.nsp+","),t.id!=null&&(e+=t.id),t.data!=null&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=Qa(t),s=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(s),r}}function Us(n){return Object.prototype.toString.call(n)==="[object Object]"}class ls extends ${constructor(t){super(),this.reviver=t}add(t){let e;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const s=e.type===O.BINARY_EVENT;s||e.type===O.BINARY_ACK?(e.type=s?O.EVENT:O.ACK,this.reconstructor=new nc(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(us(t)||t.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let e=0;const s={type:Number(t.charAt(0))};if(O[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===O.BINARY_EVENT||s.type===O.BINARY_ACK){const i=e+1;for(;t.charAt(++e)!=="-"&&e!=t.length;);const o=t.substring(i,e);if(o!=Number(o)||t.charAt(e)!=="-")throw new Error("Illegal attachments");s.attachments=Number(o)}if(t.charAt(e+1)==="/"){const i=e+1;for(;++e&&!(t.charAt(e)===","||e===t.length););s.nsp=t.substring(i,e)}else s.nsp="/";const r=t.charAt(e+1);if(r!==""&&Number(r)==r){const i=e+1;for(;++e;){const o=t.charAt(e);if(o==null||Number(o)!=o){--e;break}if(e===t.length)break}s.id=Number(t.substring(i,e+1))}if(t.charAt(++e)){const i=this.tryParse(t.substr(e));if(ls.isPayloadValid(s.type,i))s.data=i;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,e){switch(t){case O.CONNECT:return Us(e);case O.DISCONNECT:return e===void 0;case O.CONNECT_ERROR:return typeof e=="string"||Us(e);case O.EVENT:case O.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&$a.indexOf(e[0])===-1);case O.ACK:case O.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class nc{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const e=Za(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const sc=Object.freeze(Object.defineProperty({__proto__:null,Decoder:ls,Encoder:ec,get PacketType(){return O},protocol:tc},Symbol.toStringTag,{value:"Module"}));function bt(n,t,e){return n.on(t,e),function(){n.off(t,e)}}const rc=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});let Ar=class extends ${constructor(t,e,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[bt(t,"open",this.onopen.bind(this)),bt(t,"packet",this.onpacket.bind(this)),bt(t,"error",this.onerror.bind(this)),bt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){var s,r,i;if(rc.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const o={type:O.EVENT,data:e};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){const h=this.ids++,g=e.pop();this._registerAckCallback(h,g),o.id=h}const a=(r=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||r===void 0?void 0:r.writable,u=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,e){var s;const r=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(r===void 0){this.acks[t]=e;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);e.call(this,new Error("operation has timed out"))},r),o=(...a)=>{this.io.clearTimeoutFn(i),e.apply(this,a)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...e){return new Promise((s,r)=>{const i=(o,a)=>o?r(o):s(a);i.withError=!0,e.push(i),this.emit(t,...e)})}_addToQueue(t){let e;typeof t[t.length-1]=="function"&&(e=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((r,...i)=>s!==this._queue[0]?void 0:(r!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(r)):(this._queue.shift(),e&&e(null,...i)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:O.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case O.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case O.EVENT:case O.BINARY_EVENT:this.onevent(t);break;case O.ACK:case O.BINARY_ACK:this.onack(t);break;case O.DISCONNECT:this.ondisconnect();break;case O.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const e=t.data||[];t.id!=null&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const s of e)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let s=!1;return function(...r){s||(s=!0,e.packet({type:O.ACK,id:t,data:r}))}}onack(t){const e=this.acks[t.id];typeof e=="function"&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:O.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let s=0;s<e.length;s++)if(t===e[s])return e.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let s=0;s<e.length;s++)if(t===e[s])return e.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const s of e)s.apply(this,t.data)}}};function pe(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}pe.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),e=Math.floor(t*this.jitter*n);n=(Math.floor(t*10)&1)==0?n-e:n+e}return Math.min(n,this.max)|0};pe.prototype.reset=function(){this.attempts=0};pe.prototype.setMin=function(n){this.ms=n};pe.prototype.setMax=function(n){this.max=n};pe.prototype.setJitter=function(n){this.jitter=n};class Zn extends ${constructor(t,e){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,Tn(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((s=e.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new pe({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=t;const r=e.parser||sc;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(e=this.backoff)===null||e===void 0||e.setMin(t),this)}randomizationFactor(t){var e;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(e=this.backoff)===null||e===void 0||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(e=this.backoff)===null||e===void 0||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Ya(this.uri,this.opts);const e=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const r=bt(e,"open",function(){s.onopen(),t&&t()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=bt(e,"error",i);if(this._timeout!==!1){const a=this._timeout,u=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),e.close()},a);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(r),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(bt(t,"ping",this.onping.bind(this)),bt(t,"data",this.ondata.bind(this)),bt(t,"error",this.onerror.bind(this)),bt(t,"close",this.onclose.bind(this)),bt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(e){this.onclose("parse error",e)}}ondecoded(t){An(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new Ar(this,t,e),this.nsps[t]=s),s}_destroy(t){const e=Object.keys(this.nsps);for(const s of e)if(this.nsps[s].active)return;this._close()}_packet(t){const e=this.encoder.encode(t);for(let s=0;s<e.length;s++)this.engine.write(e[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,e){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(r=>{r?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",r)):t.onreconnect()}))},e);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const be={};function Te(n,t){typeof n=="object"&&(t=n,n=void 0),t=t||{};const e=ja(n,t.path||"/socket.io"),s=e.source,r=e.id,i=e.path,o=be[r]&&i in be[r].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let u;return a?u=new Zn(s,t):(be[r]||(be[r]=new Zn(s,t)),u=be[r]),e.query&&!t.query&&(t.query=e.queryKey),u.socket(e.path,t)}Object.assign(Te,{Manager:Zn,Socket:Ar,io:Te,connect:Te});const ic=typeof window<"u"?window:void 0;function oc(n){let t=n.activeElement;for(;t!=null&&t.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}var he,Ue;class ac{constructor(t={}){b(this,he);b(this,Ue);const{window:e=ic,document:s=e==null?void 0:e.document}=t;e!==void 0&&(G(this,he,s),G(this,Ue,de(r=>{const i=wt(e,"focusin",r),o=wt(e,"focusout",r);return()=>{i(),o()}})))}get current(){var t;return(t=l(this,Ue))==null||t.call(this),l(this,he)?oc(l(this,he)):null}}he=new WeakMap,Ue=new WeakMap;new ac;var He,qt;class Tr{constructor(t){b(this,He);b(this,qt);G(this,He,t),G(this,qt,Symbol(t))}get key(){return l(this,qt)}exists(){return Ai(l(this,qt))}get(){const t=vs(l(this,qt));if(t===void 0)throw new Error(`Context "${l(this,He)}" not found`);return t}getOr(t){const e=vs(l(this,qt));return e===void 0?t:e}set(t){return Ti(l(this,qt),t)}}He=new WeakMap,qt=new WeakMap;function cc(n,t){switch(n){case"post":Ht(t);break;case"pre":En(t);break}}function kr(n,t,e,s={}){const{lazy:r=!1}=s;let i=!r,o=Array.isArray(n)?[]:void 0;cc(t,()=>{const a=Array.isArray(n)?n.map(f=>f()):n();if(!i){i=!0,o=a;return}const u=Zt(()=>e(a,o));return o=a,u})}function uc(n,t,e){kr(n,"post",t,e)}function lc(n,t,e){kr(n,"pre",t,e)}uc.pre=lc;var ze;class Ic{constructor(){tt(this,"socket",Te());b(this,ze,j(!1));this.socket.on("connect",()=>{this.connected=!0}),this.socket.on("disconnect",()=>{this.connected=!1}),this.socket.onAny((t,...e)=>{console.log("main:",{event:t,args:e})})}get connected(){return c(l(this,ze))}set connected(t){C(l(this,ze),t,!0)}}ze=new WeakMap;var We,Ye;class Lc{constructor(){tt(this,"sock",Te("/user-input"));b(this,We,j(!1));b(this,Ye,j(Wt({})));this.sock.on("connect",()=>{console.log("user input connected"),this.connected=!0}),this.sock.on("disconnect",()=>{console.log("user input disconnected"),this.connected=!1}),this.sock.onAny((t,...e)=>{console.log("user-input:",{event:t,args:e})}),this.sock.on("agent_request",t=>{console.log("agent_request",t),this.requests[t.id]=t}),this.sock.on("agent_answer",t=>{console.log("agent_answer",t),this.requests[t.id].agentAnswer=t.answer})}get connected(){return c(l(this,We))}set connected(t){C(l(this,We),t,!0)}get requests(){return c(l(this,Ye))}set requests(t){C(l(this,Ye),t,!0)}respond(t,e){this.requests[t].userQuestion=e,this.sock.emit("user_response",{id:t,value:e})}}We=new WeakMap,Ye=new WeakMap;const Pc=new Tr("socketCtx"),Dc=new Tr("sessionCtx");export{uc as A,Ic as B,Tr as C,Ac as D,Io as E,Fi as F,Xo as G,$o as H,de as I,et as J,sn as K,zi as L,ic as M,to as N,mc as O,bc as P,Sc as Q,vc as S,wc as T,Lc as U,Pc as a,yc as b,kt as c,re as d,Pi as e,H as f,_e as g,gc as h,pc as i,xc as j,qn as k,aa as l,Mn as m,ca as n,lr as o,$e as p,fa as q,kc as r,St as s,Z as t,Oc as u,ra as v,Rc as w,Is as x,Cc as y,Dc as z};
